---
title: "temp_save"
author: "Yuxi Fan"
date: "11/7/2019"
output: html_document
---
## Loading required packages
```{r}
require(data.table)
```


## Group out of range and unconvertible datapoints by flag 
```{r}
out_of_range_rows_table <- data.table(out_of_range_rows)
out_of_range_groupby_result <-  out_of_range_rows_table[, .N, by = .(Range_flag)] 
out_of_range_wind_direction <-  out_of_range_rows[which(out_of_range_rows$Range_flag == "wind_direction"),]
out_of_range_layer_1_con <- out_of_range_rows[which(out_of_range_rows$Range_flag == "layer_1_concentration"),]
out_of_range_groupby_result
```

## Check error values of layer_1_concentration
```{r}
out_of_range_layer_1_con <- data.table(out_of_range_layer_1_con)

out_of_range_layer_1_concentration_groupby_result <- out_of_range_layer_1_con[, .N, by = .(ring_id,dt)]

data.frame(out_of_range_layer_1_concentration_groupby_result[order(-out_of_range_layer_1_concentration_groupby_result$N),])

out_of_range_layer_1_concentration_groupby_result[order(-out_of_range_layer_1_concentration_groupby_result$ring_id),]

```

## Check error value of wind direction
```{r}
out_of_range_wd <- data.table(out_of_range_wind_direction)
out_of_range_wd_groupby_result <- out_of_range_wd[, .N, by = .(wind_direction)]
out_of_range_wd_groupby_result
```